{
  "id": "culinary_diffusion",
  "name": "Culinary Kitchen Laboratory",
  "mappings": [
    {
      "knotType": "CheckpointLoaderSimple",
      "metaphorElement": "Recipe Book Selection",
      "label": "Recipe Book",
      "description": "Loading a checkpoint is selecting which recipe book (model variant) to use. This works well because recipe books are stable, reusable knowledge sources. Weakness: the actual model weights aren't visible, but this is acceptable since model selection is abstract enough that users don't need to see internals.",
      "facadeControls": [
        {
          "id": "ckpt_dropdown",
          "controlType": "dropdown",
          "label": "Recipe Book",
          "rationale": "Selecting from available recipe books (checkpoints) mirrors real kitchen practice — you choose which cuisine or technique guide to follow before starting",
          "position": {
            "x": 0.5,
            "y": 0.85
          },
          "binding": {
            "dataPath": "inputs.ckpt_name",
            "options": [
              "book_1",
              "book_2"
            ]
          }
        }
      ],
      "assetPrompt": "Weathered cookbook on a wooden counter, spine visible with embossed title, warm library lighting, top-down view",
      "size": {
        "width": 140,
        "height": 180
      }
    },
    {
      "knotType": "CLIPTextEncode",
      "metaphorElement": "Ingredient Descriptor Card (Positive)",
      "label": "Positive Ingredients",
      "description": "Text input for positive prompts maps directly to a handwritten ingredient list. This is STRONG because text remains fully visible and editable — users write exactly what they want included. The card metaphor is familiar (recipe cards with ingredient lists are ubiquitous).",
      "facadeControls": [
        {
          "id": "positive_text",
          "controlType": "text",
          "label": "What you want",
          "rationale": "Free-form text area on an ingredient card — this is the most direct, honest representation. Users type prompts exactly as they think them.",
          "position": {
            "x": 0.3,
            "y": 0.5
          },
          "binding": {
            "dataPath": "inputs.text"
          }
        }
      ],
      "assetPrompt": "Cream-colored recipe card with handwritten list, mint-green header labeled 'Ingredients', wooden counter background, pen nearby",
      "size": {
        "width": 160,
        "height": 200
      }
    },
    {
      "knotType": "CLIPTextEncode",
      "metaphorElement": "Ingredient Descriptor Card (Negative)",
      "label": "Negative Ingredients",
      "description": "Text input for negative prompts maps to an 'Allergens/Exclusions' list on the back of the ingredient card. This maintains text-first interaction while being semantically clear — listing what NOT to include. Works well because exclusion lists are a natural kitchen concept.",
      "facadeControls": [
        {
          "id": "negative_text",
          "controlType": "text",
          "label": "What to exclude",
          "rationale": "Text area for exclusions, parallel to positive ingredients. Maintains full expressiveness while clarifying intent.",
          "position": {
            "x": 0.7,
            "y": 0.5
          },
          "binding": {
            "dataPath": "inputs.text"
          }
        }
      ],
      "assetPrompt": "Cream-colored recipe card, red header labeled 'Avoid/Allergens', handwritten text with strikethrough style, wooden counter",
      "size": {
        "width": 160,
        "height": 200
      }
    },
    {
      "knotType": "EmptyLatentImage",
      "metaphorElement": "Prep Station & Pan Selection",
      "label": "Workspace Setup",
      "description": "Creating empty latent space is preparing the blank canvas — selecting pan size and batch count. This works moderately well because prep stations are physical, dimensional spaces. The batch_size parameter maps to 'how many portions' naturally. Width/height are literal pan dimensions.",
      "facadeControls": [
        {
          "id": "width_slider",
          "controlType": "slider",
          "label": "Pan Width",
          "rationale": "Slider for image width — directly maps to cooking vessel dimensions. Intuitive range (256-1024 pixels = small to large pan).",
          "position": {
            "x": 0.2,
            "y": 0.3
          },
          "binding": {
            "dataPath": "inputs.width",
            "min": 256,
            "max": 1024,
            "step": 64
          }
        },
        {
          "id": "height_slider",
          "controlType": "slider",
          "label": "Pan Depth",
          "rationale": "Slider for image height — depth dimension of the cooking vessel.",
          "position": {
            "x": 0.2,
            "y": 0.45
          },
          "binding": {
            "dataPath": "inputs.height",
            "min": 256,
            "max": 1024,
            "step": 64
          }
        },
        {
          "id": "batch_dropdown",
          "controlType": "dropdown",
          "label": "Portions to Cook",
          "rationale": "Number of images generated = number of portions. Dropdown for batch size (1, 2, 4, 8) feels natural in cooking context.",
          "position": {
            "x": 0.2,
            "y": 0.6
          },
          "binding": {
            "dataPath": "inputs.batch_size",
            "options": [
              1,
              2,
              4,
              8
            ]
          }
        }
      ],
      "assetPrompt": "Stainless steel prep table with multiple empty pans of different sizes arranged, measuring tape showing dimensions, professional kitchen lighting",
      "size": {
        "width": 180,
        "height": 140
      }
    },
    {
      "knotType": "KSampler",
      "metaphorElement": "Stovetop Cooking Process",
      "label": "Active Cooking",
      "description": "The sampler is the active cooking process — heat applied over time with various controls. This is strong: diffusion steps = cooking time, cfg = heat intensity, seed = recipe consistency. Sampler_name and scheduler are cooking technique choices (simmer vs. sear, high heat vs. low). The weakness is that actual diffusion is stochastic exploration, not strictly linear cooking, but the metaphor captures 'iterative refinement' well enough.",
      "facadeControls": [
        {
          "id": "steps_slider",
          "controlType": "slider",
          "label": "Cooking Time (Steps)",
          "rationale": "Steps directly map to time on heat. More steps = longer cooking. Range 1-50 steps = quick sauté to slow braise. This is highly intuitive and truthful.",
          "position": {
            "x": 0.5,
            "y": 0.25
          },
          "binding": {
            "dataPath": "inputs.steps",
            "min": 1,
            "max": 50,
            "step": 1
          }
        },
        {
          "id": "cfg_slider",
          "controlType": "slider",
          "label": "Heat Intensity (Guidance)",
          "rationale": "CFG = how much to 'listen to' the recipe (prompts). High CFG = closely follow ingredient list (high heat precision). Low CFG = freestyle improvisation (gentle cooking). Range 1-20 is intuitive — high intensity vs. low.",
          "position": {
            "x": 0.5,
            "y": 0.4
          },
          "binding": {
            "dataPath": "inputs.cfg",
            "min": 1,
            "max": 20,
            "step": 0.5
          }
        },
        {
          "id": "seed_input",
          "controlType": "text",
          "label": "Recipe Batch Code",
          "rationale": "Seed as a batch/lot code — same seed = reproducible results, like following the same recipe twice. Numeric input fields are appropriate; seed determinism mirrors cooking reproducibility.",
          "position": {
            "x": 0.5,
            "y": 0.55
          },
          "binding": {
            "dataPath": "inputs.seed"
          }
        },
        {
          "id": "sampler_dropdown",
          "controlType": "dropdown",
          "label": "Cooking Technique",
          "rationale": "Sampler choice = cooking method (euler = steady simmering, dpmpp = precision searing). Names like 'euler', 'dpmpp_2m' don't map perfectly, but labeling them as 'Steady', 'Precision', 'Quick' would help.",
          "position": {
            "x": 0.5,
            "y": 0.7
          },
          "binding": {
            "dataPath": "inputs.sampler_name",
            "options": [
              "euler",
              "dpmpp_2m"
            ]
          }
        },
        {
          "id": "scheduler_dropdown",
          "controlType": "dropdown",
          "label": "Temperature Schedule",
          "rationale": "Scheduler = heat curve over time. 'Normal' = steady heat, 'Karras' = adaptive heat management. This is abstract but metaphor-consistent.",
          "position": {
            "x": 0.5,
            "y": 0.85
          },
          "binding": {
            "dataPath": "inputs.scheduler",
            "options": [
              "normal",
              "karras"
            ]
          }
        }
      ],
      "assetPrompt": "Overhead view of stovetop with pan cooking, steam rising, thermometer showing temperature, wooden spoon stirring, warm kitchen lighting",
      "size": {
        "width": 200,
        "height": 160
      }
    },
    {
      "knotType": "VAEDecode",
      "metaphorElement": "Plating & Finishing",
      "label": "Presentation",
      "description": "VAE decode converts latent representation to final image — this is the plating step where raw dish becomes presentable. This is a subtle but effective mapping: latent space is the 'unfinished dish' (still being refined), and decode is the final plating with garnish and presentation. The weakness is that VAE is technical and invisible to users, but metaphorically treating it as 'finishing touches' is acceptable.",
      "facadeControls": [],
      "assetPrompt": "Chef's hands plating a finished dish onto white ceramic, garnishing with microgreens, professional kitchen lighting, finished dish in focus",
      "size": {
        "width": 160,
        "height": 140
      }
    },
    {
      "knotType": "SaveImage",
      "metaphorElement": "Plate Labeling & Storage",
      "label": "Archive & Label",
      "description": "Saving the image with a filename prefix is labeling the plate and storing it in the restaurant's archive. This works well because users naturally want to organize and label their creations with meaningful names.",
      "facadeControls": [
        {
          "id": "filename_text",
          "controlType": "text",
          "label": "Dish Label",
          "rationale": "Text input for filename — like writing the dish name on a label for storage. Users type meaningful names ('chocolate_cake_v2', 'portrait_gold_hour') and the system archives them.",
          "position": {
            "x": 0.5,
            "y": 0.2
          },
          "binding": {
            "dataPath": "inputs.filename_prefix"
          }
        }
      ],
      "assetPrompt": "White porcelain plate on wooden shelf in organized kitchen storage, label/tag attached with string, warm ambient light",
      "size": {
        "width": 160,
        "height": 140
      }
    }
  ],
  "threadStyle": {
    "colorBy": "dataType",
    "metaphor": "Ingredient flows, model knowledge flows, and finished dishes move between stations",
    "colorMap": {
      "MODEL": {
        "color": "#8B7355",
        "width": 4,
        "style": "solid",
        "label": "Knowledge (Recipe Book)"
      },
      "CONDITIONING": {
        "color": "#FF6B6B",
        "width": 3,
        "style": "dashed",
        "label": "Flavor Profile (Positive/Negative)"
      },
      "LATENT": {
        "color": "#FFD93D",
        "width": 3,
        "style": "solid",
        "label": "Cooking Process"
      },
      "IMAGE": {
        "color": "#6BCB77",
        "width": 3,
        "style": "solid",
        "label": "Finished Dish"
      }
    }
  },
  "waveMetaphor": "Golden aromatic waves rising from the stovetop, ingredient tendrils flowing from prep cards into the pan, finished dish elements coalescing as the plating begins",
  "sceneDescription": "A professional kitchen laboratory viewed from above. On the left, a recipe book sits on a shelf. Two ingredient cards (positive and negative) feed into the central prep station where an empty pan awaits. The stovetop occupies the central-right space, with steam and heat visualization. Finished dishes flow to a plating station on the right, then to labeled storage shelves. Threads connect these elements as golden ingredient flows and knowledge streams.",
  "sceneConfig": {
    "background": "#F5E6D3",
    "layoutMode": "horizontal",
    "spacing": {
      "x": 280,
      "y": 200
    }
  },
  "aiVocabulary": "In the culinary diffusion lab, you start by selecting a recipe book (checkpoint model) that contains all the technique knowledge. You then prepare two ingredient cards: one listing what flavors you want (positive prompt) and one listing allergens or flavors to avoid (negative prompt). At the prep station, you select your pan size and how many portions to cook (width, height, batch_size). The stovetop cooking process then begins: you set the cooking time (steps), adjust the heat intensity to match your recipe closely (cfg), choose your cooking technique (sampler), and optionally set a batch code (seed) for reproducibility. As the dish cooks, it transitions from raw ingredients (latent space) to fully plated and finished (VAE decode). Finally, you label your creation with a meaningful name and store it in the archive (SaveImage). Each generated image is a unique dish, refined through the iterative cooking process.",
  "detailedScores": {
    "mappingScores": [
      {
        "knotType": "CheckpointLoaderSimple",
        "metaphorElement": "Recipe Book Selection",
        "elementFit": 8,
        "inputOutputFit": 9,
        "attributeScores": [
          {
            "parameterName": "ckpt_name",
            "metaphorControl": "Recipe Book Dropdown",
            "explanatoryPower": 9,
            "truthfulness": 9,
            "intuitiveness": 9,
            "rationale": "Selecting a recipe book is exactly what loading a checkpoint does — choosing a stable, reusable knowledge source. The dropdown is intuitive, the metaphor is clear, and users immediately understand they're choosing foundational technique knowledge."
          }
        ],
        "overallMappingScore": 8.75,
        "rationale": "Strong mapping. Recipe books are familiar, intuitive sources of knowledge. Slight deduction only because checkpoint weights remain hidden — but this is acceptable for mixed audiences."
      },
      {
        "knotType": "CLIPTextEncode",
        "metaphorElement": "Ingredient Descriptor Card (Positive)",
        "elementFit": 9,
        "inputOutputFit": 10,
        "attributeScores": [
          {
            "parameterName": "text",
            "metaphorControl": "Ingredient List Text Area",
            "explanatoryPower": 10,
            "truthfulness": 10,
            "intuitiveness": 10,
            "rationale": "This is nearly perfect: text input remains as text (not abstracted), the ingredient card is a familiar real-world object, and users write exactly what they want included. No metaphorical friction. The card metaphor is iconic and universally understood."
          }
        ],
        "overallMappingScore": 9.67,
        "rationale": "Excellent mapping. Positive prompts are ingredient lists — direct, textual, intuitive. Users see their prompts as meaningful ingredient requests, not abstract embeddings. This is one of the strongest elements of the metaphor."
      },
      {
        "knotType": "CLIPTextEncode",
        "metaphorElement": "Ingredient Descriptor Card (Negative)",
        "elementFit": 9,
        "inputOutputFit": 10,
        "attributeScores": [
          {
            "parameterName": "text",
            "metaphorControl": "Allergens/Exclusions Text Area",
            "explanatoryPower": 10,
            "truthfulness": 10,
            "intuitiveness": 9,
            "rationale": "Exclusion lists are natural in cooking (allergens, dietary restrictions). Text remains textual and explicit. The metaphor is clear: 'avoid these flavors' = negative prompts. Slight deduction only because 'negative' prompts are slightly less intuitive than 'positive' ones in general UI, but the allergen framing helps."
          }
        ],
        "overallMappingScore": 9.5,
        "rationale": "Excellent mapping. Negative prompts as allergens/exclusions are semantically clear and metaphor-consistent. Users understand excluding unwanted elements just as they would exclude allergens from a recipe."
      },
      {
        "knotType": "EmptyLatentImage",
        "metaphorElement": "Prep Station & Pan Selection",
        "elementFit": 7,
        "inputOutputFit": 8,
        "attributeScores": [
          {
            "parameterName": "width",
            "metaphorControl": "Pan Width Slider",
            "explanatoryPower": 9,
            "truthfulness": 9,
            "intuitiveness": 9,
            "rationale": "Pan width is a direct, visual representation of image width. Slider range (256-1024) maps to realistic pan sizes. Highly intuitive and truthful — larger slider value = larger pan."
          },
          {
            "parameterName": "height",
            "metaphorControl": "Pan Depth Slider",
            "explanatoryPower": 9,
            "truthfulness": 9,
            "intuitiveness": 9,
            "rationale": "Pan depth mirrors image height. Same reasoning as width — direct and intuitive spatial metaphor."
          },
          {
            "parameterName": "batch_size",
            "metaphorControl": "Portions Dropdown",
            "explanatoryPower": 9,
            "truthfulness": 9,
            "intuitiveness": 9,
            "rationale": "How many portions to cook = batch_size. Natural mapping; users understand '2 portions' = '2 images generated.' Dropdown with preset values (1, 2, 4, 8) is intuitive."
          }
        ],
        "overallMappingScore": 8.67,
        "rationale": "Strong mapping overall. Prep and pan selection directly represent image dimensions and batch count. Sliders and dropdowns are intuitive for dimensional and quantity parameters. Minor deduction because latent space as 'blank pan' is slightly abstract, but still works well metaphorically."
      },
      {
        "knotType": "KSampler",
        "metaphorElement": "Stovetop Cooking Process",
        "elementFit": 8,
        "inputOutputFit": 7,
        "attributeScores": [
          {
            "parameterName": "steps",
            "metaphorControl": "Cooking Time Slider",
            "explanatoryPower": 10,
            "truthfulness": 9,
            "intuitiveness": 10,
            "rationale": "Steps as cooking time is intuitive and truthful. More steps = longer cooking = more refinement. Range 1-50 feels natural (quick sauté to slow braise). This is one of the most successful parameter mappings in the entire metaphor."
          },
          {
            "parameterName": "cfg",
            "metaphorControl": "Heat Intensity Slider",
            "explanatoryPower": 8,
            "truthfulness": 7,
            "intuitiveness": 8,
            "rationale": "CFG as heat intensity works metaphorically: high cfg = precise adherence to recipe = tight heat control. Low cfg = freestyle cooking = loose heat. The mapping is intuitive but slightly abstract — CFG is really a constraint weight, not heat. However, 'intensity of following the recipe' is a reasonable user-level metaphor."
          },
          {
            "parameterName": "seed",
            "metaphorControl": "Recipe Batch Code Input",
            "explanatoryPower": 7,
            "truthfulness": 8,
            "intuitiveness": 7,
            "rationale": "Seed as batch/lot code captures determinism — same seed = reproducible results. But the connection to 'batch code' is somewhat loose. Users may not immediately understand that a numeric code controls reproducibility. Truthful, but requires explanation."
          },
          {
            "parameterName": "sampler_name",
            "metaphorControl": "Cooking Technique Dropdown",
            "explanatoryPower": 6,
            "truthfulness": 6,
            "intuitiveness": 6,
            "rationale": "Sampler names (euler, dpmpp_2m) don't have obvious kitchen equivalents. Labeling them as 'Steady Simmer', 'Precision Searing' would help, but raw names are opaque. This is a weak point — the actual algorithm names don't map intuitively to cooking techniques. Truthfulness is moderate: different samplers do behave differently, but the metaphor doesn't capture it."
          },
          {
            "parameterName": "scheduler",
            "metaphorControl": "Temperature Schedule Dropdown",
            "explanatoryPower": 6,
            "truthfulness": 6,
            "intuitiveness": 5,
            "rationale": "Scheduler as 'temperature curve' is a reasonable metaphor but quite abstract. 'Normal' vs. 'Karras' scheduling don't have obvious kitchen equivalents. This is a weak mapping — users won't intuitively understand what 'Karras' means in cooking terms. Truthfulness is low because the metaphor obscures actual algorithmic differences."
          }
        ],
        "overallMappingScore": 7.43,
        "rationale": "Mixed mapping. Steps and CFG are excellent (8-10 range), but sampler_name and scheduler are weak (5-6 range). The core cooking metaphor is strong, but advanced algorithmic choices don't translate well to kitchen terminology. Steps slider alone carries much of the mapping's weight."
      },
      {
        "knotType": "VAEDecode",
        "metaphorElement": "Plating & Finishing",
        "elementFit": 7,
        "inputOutputFit": 8,
        "attributeScores": [],
        "overallMappingScore": 7.5,
        "rationale": "Plating and finishing is a reasonable metaphor for VAE decode — taking unfinished latent representation and making it presentable (final image). The weakness is that VAE is technical and completely hidden from users, so the metaphor serves more as narrative framing than actual interaction. Still, it's intuitive: latent = raw dish, decoded = plated dish."
      },
      {
        "knotType": "SaveImage",
        "metaphorElement": "Plate Labeling & Storage",
        "elementFit": 8,
        "inputOutputFit": 9,
        "attributeScores": [
          {
            "parameterName": "filename_prefix",
            "metaphorControl": "Dish Label Text Input",
            "explanatoryPower": 9,
            "truthfulness": 9,
            "intuitiveness": 9,
            "rationale": "Labeling and archiving dishes is intuitive and truthful. Users naturally want to name their creations meaningfully. Text input for filename_prefix is direct and supports the metaphor perfectly. This is a strong endpoint."
          }
        ],
        "overallMappingScore": 8.67,
        "rationale": "Strong mapping. Saving/archiving is intuitive, and naming is something users understand immediately. The metaphor maintains coherence through to the final step."
      }
    ],
    "ioAnalysis": {
      "textInputHandling": 9,
      "modelInputHandling": 9,
      "intermediateHandling": 7,
      "finalOutputHandling": 7,
      "rationale": "Text handling is excellent (9/10): positive and negative prompts remain fully textual and explicit — users write ingredient lists, not abstract embeddings. Model handling is excellent (9/10): recipe book selection is intuitive and abstract enough to not expose internal weights. Intermediate handling is moderate (7/10): latent space as 'cooking in progress' works metaphorically but is somewhat abstract. VAE as 'plating' is fine but users don't interact with it. Final output handling is moderate (7/10): the final image is a 'finished dish' metaphorically, which is good, but the actual output is a viewable PNG/JPG, not literal food — the metaphor is poetic rather than literal. This is acceptable for a mixed audience."
    }
  },
  "scores": {
    "explanatoryPower": 8.1,
    "rationale": "Weighted average: 0.30 * 8.1 (explanatory) + 0.25 * 7.8 (truthfulness) + 0.20 * 8.2 (completeness) + 0.15 * 8.3 (intuitive) + 0.10 * 7.9 (consistency) = 2.43 + 1.95 + 1.64 + 1.25 + 0.79 = 8.06 → 8.03 rounded. This is a strong metaphor with clear strengths (text handling, core parameters) and identified weaknesses (sampler/scheduler naming, intermediate abstraction). The culinary kitchen metaphor is accessible, intuitive, and maps most parameters well. Primary limitation is that advanced algorithmic controls (sampler, scheduler) don't have natural kitchen equivalents and require either relabeling or explanation. Recommendation: rename sampler options (e.g., 'Steady', 'Precision') and scheduler options (e.g., 'Linear Heat', 'Adaptive Heat') to improve the 5-6 scores to 7-8 range, which would raise overall to ~8.3.",
    "truthfulness": 7.8,
    "completeness": 8.2,
    "intuitiveInteraction": 8.3,
    "fractalConsistency": 7.9,
    "overall": 8.055
  }
}